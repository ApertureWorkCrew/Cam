<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>OBS Emoji Camera</title>
  <style>
    body {
      background: #111;
      color: white;
      font-family: monospace;
      text-align: center;
    }
    video { display: none; }
    pre {
      font-size: 6px;
      line-height: 6px;
      white-space: pre;
    }
  </style>
</head>
<body>
  <h1>🎥 OBS → Emoji Camera</h1>
  <video id="video" autoplay playsinline></video>
  <canvas id="canvas" width="64" height="48" style="display:none"></canvas>
  <pre id="emoji"></pre>

  <script>
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const emojiPre = document.getElementById('emoji');

// All emojis in a simple array (names removed)
const emojiList = [
  "🥇","🥈","🥉","🅰️","🆎","🏧","🧮","🩹","🎟","🚡","🛬","🛫","✈️","⏰","⚗️","🚑","🏈","⚓","📶",
  "♒","♈","🚛","🎨","⚛️","🛺","🚗","🪓","🅱️","🔙","🚼","🎒","🏸","🛄","⚖️","🦲","🩰","🎈","🗳","🪕",
  "🏦","📊","💈","⚾","🧺","🏀","🛁","🔋","🏖","🛏","🔔","🔕","🛎","🚲","👙","🧢","☣️","⚫","⬛","◼️",
  "◾","✒️","▪","🔲","📘","🔵","🟦","🔖","📑","📚","🏹","🎳","🥊","🧱","🌉","💼","🩲","🔆","🧹","🟤",
  "🟫","🏗","🚅","🚌","🚏","🆑","🆒","📅","📷","📸","🏕","♋","🕯","🛶","♑","🗃","🗂","📇","🎠","🎏","🏰",
  "⛓","🪑","📉","📈","💹","☑️","✅","✔️","🏁","♟️","🚸","🎄","⛪","🚬","🎦","Ⓜ️","🎪","🏙","🌆","🗜",
  "🎬","🏛","📋","🔃","📕","📪","📫","🌂","☁️","🌩","⛈","🌧","🌨","♣️","👝","🧥","⚰️","☄️","🧭","💽",
  "🖱","🎊","🚧","🎛","🏪","🛋","🔄","🖍","💳","🌙","🏏","❎","❌","⚔️","👑","🔮","🥌","🦱","➰","💱","🛃",
  "🌀","🧬","📀","🗡","🚚","🏬","🏚","🏜","🏝","🖥","♦️","💠","🔅","🎯","➗","🤿","🪔","💵","🚪","🔯","➿",
  "⬇️","↙️","↘️","🔽","👗","🩸","💧","🥁","📧","🔚","🕗","✴️","✳️","🕣","⏏️","🔌","🕚","🕦","✉️","📩",
  "💶","❗","⁉️","🆓","🏭","⏬","⏪","⏫","⏩","📠","♀","🎡","⛴","🏑","🗄","📁","🎞","📽","🔥","🚒","🧯",
  "🧨","🎆","🌓","🌛","🎣","🕔","🕠","⛳","🔦","🥿","⚜️","💾","🎴","🥏","🛸","🌫","🌁","⛲","🖋","🕓","🕟",
  "🖼","⛽","🌕","🌝","⚱️","🎲","⚙️","💎","♊","👓","🌎","🌏","🌍","🌐","🧤","🌟","🥅","🥽","🎓","📗",
  "🟢","🟩","🎸","🛠","🔨","⚒️","👜","🎧","♥️","💲","🚁","⚡","🚄","👠","🥾","🛕","⭕","🚥","🏥","♨️",
  "🏨","⌛","⏳","🏠","🏡","🏘","🆔","🧊","🏒","⛸","📥","📨","♾️","ℹ️","🔤","🔡","🔠","🔢","🔣","🎃","🏯",
  "🎎","🏣","🔰","🉑","🈸","🉐","㊗️","🈹","🈚","🈁","🈷️","🈵","🈶","🈺","🈴","🈲","🈯","㊙️","🈂️","🈳",
  "👖","🃏","🕹","🕋","🔑","⌨️","#️⃣","*️⃣","0️⃣","1️⃣","🔟","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣",
  "🛴","👘","🪁","🥼","🏷","🥍","💻","🔷","🔶","🌗","🌜","⏮","✝️","📒","↪️","⬅️","🛅","↔","♌","🎚","♎",
  "💡","🚈","🔗","🖇","💄","🚮","🔒","🔐","🔏","🚂","🧴","📢","🏩","🧳","🧲","🔍","🔎","🀄","♂","👞","🕰",
  "🦽","🗾","🥋","⚕️","📣","📝","🚹","🕎","🚇","🎤","🔬","🎖","🌌","🚐","➖","🗿","📱","📴","📲","💰","💸",
  "🚝","🎑","🕌","🛥","🏍","🦼","🛣","🗻","🚠","⛰","🚞","🎥","✖️","🎹","🎵","🎶","🎼","🔇","🆕","🆖","📛",
  "🏞","🧿","👔","🌑","🌚","📰","⏭","🌃","🕘","🕤","🚳","⛔","🚯","📵","🔞","🚷","🚭","🚱","📓","📔","🔩",
  "🅾️","🆗","🔛","🏢","🛢","🗝","🕉","🚘","🚍","🚔","🚖","🕐","🩱","🕜","📖","📂","📭","📬","⛎","💿","📙",
  "🟠","🟧","☦️","📤","🅿️","📦","📄","📃","📟","🖌","📎","🪂","〽️","🎉","🛳","🛂","⏸","☮️","🖊","🎭",
  "🧫","⛏","💊","🎍","🏓","♓","🔫","🛐","▶️","⏯","➕","🚓","🚨","🎱","🏤","📯","📮","🚰","💷","📿","🖨",
  "🚫","🟣","🟪","👛","📌","🧩","❓","🏎","🔘","📻","☢️","🚃","🛤","🌈","🪒","🧾","⏺","♻️","🔴","🧧","🦰",
  "🏮","🟥","🔻","🔺","🎗","🔁","🔂","⛑","🚻","◀️","🎀","⤵️","↩️","⤴️","➡️","💍","🪐","🚀","🧻","🗞","🎢",
  "📍","🏉","🎽","👟","🔜","🆘","🧷","🦺","♐","⛵","🥻","📡","🛰","🎷","🧣","🏫","✂️","♏","📜","💺","🕖",
  "🕢","🛡","⛩","🚢","🌠","🛍","🛒","🩳","🚿","🔀","🕕","🕡","🛹","🎿","🛷","🎰","🛩","🔹","🔸","🏔","❄️",
  "☃️","⛄","🧼","⚽","🧦","🥎","♠️","❇️","🎇","✨","🔊","🔈","🔉","🚤","🗓","🗒","🧽","🚙","🏅","🏟","☪️",
  "⭐","✡️","🚉","🗽","🩺","⏹","🛑","⏱","📏","🎙","⛅","🌥","🌦","🌤","☀️","🌞","🕶","🌅","🌄","🌇","🚟",
  "🕍","💉","👕","🔝","🎋","♉","🚕","📆","🧸","☎️","📞","🔭","📺","🕙","🕥","🎾","⛺","🧪","🌡","🧵","🕒",
  "🕞","🎫","⏲","🚽","🗼","🧰","🎩","🌪","🖲","🚜","™","🚆","🚋","🚊","🏳️‍⚧️","📐","🔱","🚎","🏆","🎺",
  "🕛","🕧","🕑","🕝","🆙","☂️","☔","⛱","🔓","⬆️","↕","↖️","↗️","🔼","🆚","🚦","📳","📹","🎮","📼","🎻",
  "♍","🌋","🏐","🌘","🌖","⚠️","🗑","⌚","🚾","🌊","〰️","🌒","🌔","💒","☸️","♿","🦯","⚪","❕","🦳","⬜",
  "◻️","◽","❔","▫","🔳","🎐","🌬","👢","👚","👒","👡","🚺","🗺","🎁","🔧","🧶","🟡","🟨","💴","☯️","🪀"
];

    // Map brightness (0-255) to an emoji from the list
    function getEmoji(r, g, b) {
      const brightness = (r + g + b) / 3;
      const index = Math.floor(brightness / 256 * emojiList.length);
      return emojiList[index];
    }

    async function startCamera() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        video.srcObject = stream;
        renderLoop();
      } catch (err) {
        console.error("Camera error:", err);
      }
    }

    function renderLoop() {
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
      const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
      const data = imgData.data;

      let output = "";
      for (let y = 0; y < canvas.height; y++) {
        for (let x = 0; x < canvas.width; x++) {
          const i = (y * canvas.width + x) * 4;
          const r = data[i], g = data[i+1], b = data[i+2];
          output += getEmoji(r, g, b);
        }
        output += "\n";
      }
      emojiPre.textContent = output;

      requestAnimationFrame(renderLoop);
    }

    startCamera();
  </script>
</body>
</html>
